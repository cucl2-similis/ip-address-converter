## テスト仕様書

- IpAddressConverter コンポーネント
  - 表示内容確認
    - 見出し「IP Address Converter」が表示されること。
  - ページ構成確認
    - トップレベル要素が、属性を container クラスとする単一の div 要素であること。
    - 子コンポーネント`<Form/>`の見出し「Form」が表示されること。
    - 子コンポーネント`<Result/>`の見出し「Result」が表示されること。
    - 子コンポーネント`<IpTable/>`の見出し「Simple IP Address Table」が表示されること。
    - 子コンポーネント`<Footer/>`のリンク「Repository」が表示されること。
- BinSpan コンポーネント
  - 表示テキスト確認
    - インデックスに 0 が指定された場合、太字フォント及びセカンダリテキスト表示が適用されないこと。
    - 指定されたインデックスに応じて、セカンダリテキスト表示が適用されること。
    - 指定されたインデックスに応じて、太字フォント及びセカンダリテキスト表示が適用されること。
- Footer コンポーネント
  - 構成要素確認
    - フッターの構成が正しいこと。
- Form コンポーネント
  - 表示内容確認
    - 見出し「Form」が表示されること。
    - ラベル「IP Address / CIDR」が表示されること。
    - ラベル「IP Address」と、対応するテキストボックスが表示されること。
    - ラベル「CIDR」と、対応するテキストボックスが表示されること。
    - ボタン「Convert」が表示されること。
    - CIDR のプレースホルダーテキストに初期値「0」が表示されること。
    - IP の入力値変更に応じて、CIDR のプレースホルダーテキスト表示が変更されること。
  - Convert ボタン動作確認
    - 入力値なしでのボタン押下の場合、変換結果 DTO 用の state セッタ関数が呼び出されないこと。
    - CIDR 入力なしの場合、入力値に対応した変換結果 DTO が、state セッタ関数によって設定されること。
    - CIDR 入力ありの場合、入力値に対応した変換結果 DTO が、state セッタ関数によって設定されること。
  - エラーメッセージ表示確認
    - 初期表示にエラーメッセージが含まれないこと。
    - 入力値が正常の場合、エラーメッセージが表示されないこと。
    - 入力値にエラーがある場合、対応するエラーメッセージが表示されること。
    - エラーメッセージ表示後、入力値の変更により表示メッセージが更新されること。
        <details>
        <summary>#01～#06</summary>
        
        | # | 入力値（IPv4 / CIDR） | Convert 押下 | 入力値（IPv4 / CIDR） | 入力値変更 | 入力値（IPv4 / CIDR） |
        | ---: | :---: | :---: | :---: | :---: | :---: |
        | 01 | エラーあり / エラーあり | →（IPv4変更）→ | エラーなし / エラーあり | →（CIDR変更）→ | エラーなし / エラーなし |
        | 02 | エラーあり / エラーなし | →（IPv4変更）→ | エラーなし / エラーなし | →（CIDR変更）→ | エラーなし / エラーあり |
        | 03 | エラーなし / エラーあり | →（IPv4変更）→ | エラーあり / エラーあり | →（CIDR変更）→ | エラーあり / エラーなし |
        | 04 | エラーあり / エラーなし | →（CIDR変更）→ | エラーあり / エラーあり | →（IPv4変更）→ | エラーなし / エラーあり |
        | 05 | エラーなし / エラーあり | →（IPv4変更）→ | エラーなし / エラーなし | →（CIDR変更）→ | エラーなし / エラーあり |
        | 06 | エラーなし / エラーあり | →（CIDR変更）→ | エラーなし / エラーなし | →（IPv4変更）→ | エラーなし / エラーあり |
        </details>
    - エラーメッセージ表示後、正常な入力値での Convert ボタン押下により、メッセージが非表示となること。
    - エラーメッセージ表示後、異常な入力値での Convert ボタン押下により、メッセージが再表示されること。
    - 正常な入力値での Convert ボタン押下によるメッセージ非表示化後、メッセージが更新されなくなること。
- IpTable コンポーネント
  - 表示内容確認
    - アコーディオンヘッダに「Simple IP Address Table」が表示されること。
    - IP アドレス表アコーディオン用ラジオボタンが表示されること。
  - 表示テキスト確認
    - クラス A パブリック前半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス A プライベート 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス A パブリック後半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - ローカルホスト 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されないこと。
    - クラス B パブリック前半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス B プライベート 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス B パブリック後半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス C パブリック前半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス C プライベート 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - クラス C パブリック後半 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
  - ラジオボタン切替動作確認
    - クラス A パブリック IP 前半行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス A プライベート IP 行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス A パブリック IP 後半行の、初期表示およびラジオボタン切替後表示が適切であること。
    - ローカルホスト行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス B パブリック IP 前半行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス B プライベート IP 行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス B パブリック IP 後半行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス C パブリック IP 前半行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス C プライベート IP 行の、初期表示およびラジオボタン切替後表示が適切であること。
    - クラス C パブリック IP 後半行の、初期表示およびラジオボタン切替後表示が適切であること。
  - テーブル行カラー切替動作確認
    - 変換結果 DTO がクラス A パブリック IP 前半の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス A プライベート IP の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス A パブリック IP 後半の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がローカルホストの場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス B パブリック IP 前半の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス B プライベート IP の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス B パブリック IP 後半の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス C パブリック IP 前半の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス C プライベート IP の場合、対応する行の背景色が切り替わること。
    - 変換結果 DTO がクラス C パブリック IP 後半の場合、対応する行の背景色が切り替わること。
- RadioButton コンポーネント
  - 表示内容確認
    - ラベル「DEC」「BIN」と、対応するラジオボタンが表示されること。
    - オプション class 属性が設定された場合、class 属性が追加されること。
    - ラジオボタングループ識別用接頭辞が適切に付加されること。
  - 切替動作確認
    - ラジオボタン切り替え時、state セッタ関数に正しいラジオボタン選択肢が渡されること。
    - 引数の state 変数が項目「10 進数」の場合、ラジオボタンの選択肢「DEC」が選択されること。
    - 引数の state 変数が項目「2 進数」の場合、ラジオボタンの選択肢「BIN」が選択されること。
- Result コンポーネント
  - 静的表示確認
    - 見出し「Result」が表示されること。
    - 見出し「IP」が表示されること。
    - 見出し「Class」が表示されること。
    - 見出し「CIDR」が表示されること。
    - 見出し「Subnet mask」が表示されること。
    - 見出し「Network address」が表示されること。
    - 見出し「Broadcast address」が表示されること。
    - 見出し「Available range」が表示されること。
  - 動的表示確認
    - 変換結果 DTO 未設定の場合、IP アドレスが初期表示であること。
    - 変換結果 DTO 設定済の場合、IP アドレスが正しく表示されること。
    - 変換結果 DTO 未設定の場合、アドレスクラスが初期表示であること。
    - 変換結果 DTO 設定済の場合、アドレスクラス（パブリック）が正しく表示されること。
    - 変換結果 DTO 設定済の場合、アドレスクラス（プライベート）が正しく表示されること。
    - 変換結果 DTO 設定済の場合、アドレスクラス（ローカルホスト）が正しく表示されること。
    - 変換結果 DTO 未設定の場合、CIDR が初期表示であること。
    - 変換結果 DTO 設定済の場合、CIDR が正しく表示されること。
    - 変換結果 DTO 未設定の場合、サブネットマスクが初期表示であること。
    - 変換結果 DTO 設定済の場合、サブネットマスクが正しく表示されること。
    - 変換結果 DTO 未設定の場合、ネットワークアドレスが初期表示であること。
    - 変換結果 DTO 設定済の場合、ネットワークアドレスが正しく表示されること。
    - 変換結果 DTO 未設定の場合、ブロードキャストアドレスが初期表示であること。
    - 変換結果 DTO 設定済の場合、ブロードキャストアドレスが正しく表示されること。
    - 変換結果 DTO 未設定の場合、利用可能範囲 IP アドレスが初期表示であること。
    - 変換結果 DTO 設定済の場合、利用可能範囲 IP アドレスが正しく表示されること。
  - テキスト確認
    - 2 進数 IP アドレスに、太字フォント及びセカンダリテキスト表示が適用されること。
    - 2 進数サブネットマスクに、セカンダリテキスト表示が適用されること。
    - 2 進数ネットワークアドレスに、セカンダリテキスト表示が適用されること。
    - 2 進数ブロードキャストアドレスに、セカンダリテキスト表示が適用されること。
    - 2 進数利用可能範囲 IP アドレスに、セカンダリテキスト表示が適用されること。
  - ラジオボタン切替動作確認
    - IP アドレスの初期表示およびラジオボタン操作による表示切替が適切であること。
    - サブネットマスクの初期表示およびラジオボタン操作による表示切替が適切であること。
    - ネットワークアドレスの初期表示およびラジオボタン操作による表示切替が適切であること。
    - ブロードキャストアドレスの初期表示およびラジオボタン操作による表示切替が適切であること。
    - 利用可能範囲 IP アドレスの初期表示およびラジオボタン操作による表示切替が適切であること。
- Assertions
  - assertNotNull
    - 引数が null の場合、例外が送出されること。
    - 引数が undefined の場合、例外が送出されること。
    - 引数が null または undefined 以外の場合、例外が送出されないこと。
- Controller
  - convert
    - `<form>`要素が null の場合、例外が送出され後続処理が実行されないこと。
    - IPv4 アドレス`<input>`要素が null の場合、例外が送出され後続処理が実行されないこと。
    - CIDR ブロック`<input>`要素が null の場合、例外が送出され後続処理が実行されないこと。
    - IPv4 アドレス`<input>`要素に入力チェックエラーありの場合、エラーメッセージ表示処理が実行されること。
    - CIDR ブロック`<input>`要素に入力チェックエラーありの場合、エラーメッセージ表示処理が実行されること。
    - IPv4 アドレス`<input>`要素に入力チェックエラーありの場合、入力値変更イベントが更新されること。
    - CIDR ブロック`<input>`要素に入力チェックエラーありの場合、入力値変更イベントが更新されること。
    - 入力チェックエラーなしの場合、入力値変更イベントが初期化されること。
    - CIDR 入力なしの場合、`<input>`要素の値に対応した変換結果 DTO が、state セッタ関数によって設定されること。
    - CIDR 入力ありの場合、`<input>`要素の値に対応した変換結果 DTO が、state セッタ関数によって設定されること。
- Converter
  - convert
    - IPv4 アドレス文字列と CIDR ブロック文字列を変換結果 DTO に変換できること。
- Factory
  - createFactory
    - Factory インスタンスを生成できること。
  - getController
    - Controller インスタンスを取得できること。
  - getView
    - View インスタンスを取得できること。
- ResultDto
  - ResultDtoBuilder
    - 変換結果 DTO ビルダーが変換結果 DTO インスタンスを生成できること。
    - 変換結果 DTO の各初期値が空文字または 0 であること。
  - getter
    - 10 進数 IP アドレスを取得できること。
    - 10 進数サブネットマスクを取得できること。
    - 10 進数ネットワークアドレスを取得できること。
    - 10 進数ブロードキャストアドレスを取得できること。
    - 10 進数利用可能範囲開始 IP アドレスを取得できること。
    - 10 進数利用可能範囲終了 IP アドレスを取得できること。
    - 2 進数 IP アドレスを取得できること。
    - 2 進数サブネットマスクを取得できること。
    - 2 進数ネットワークアドレスを取得できること。
    - 2 進数ブロードキャストアドレスを取得できること。
    - 2 進数利用可能範囲開始 IP アドレスを取得できること。
    - 2 進数利用可能範囲終了 IP アドレスを取得できること。
    - CIDR を取得できること。
    - アドレスブロックを取得できること。
    - アドレスクラスを取得できること。
    - 利用可能 IP アドレス数を取得できること。
- ConversionUtils
  - convertDecimalToBinary
    - 引数の 10 進数が正しく 8 桁の 2 進数へ変換されること。
  - convertBinaryToDecimal
    - 引数の 2 進数が正しく 10 進数へ変換されること。
- ArrayUtils
  - mapAnElementOfArray
    - 指定した要素番号の配列要素が、任意の変換関数によって置き換えられること。
- IpAddressUtils
  - determineAddressClassBy
    - 引数の 10 進数 IP アドレスが数値配列の時、アドレスクラス未定義が返却されること。
    - 引数の 10 進数 IP アドレスが数値配列の時、対応するアドレスクラスが返却されること。
    - 引数の 10 進数 IP アドレスが文字列の時、アドレスクラス未定義が返却されること。
    - 引数の 10 進数 IP アドレスが文字列の時、対応するアドレスクラスが返却されること。
  - determineAddressBlockBy
    - クラス A（パブリック前半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス A（パブリック前半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス A（プライベート）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス A（プライベート）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス A（パブリック後半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス A（パブリック後半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - ローカルホスト開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - ローカルホスト終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（パブリック前半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（パブリック前半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（プライベート）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（プライベート）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（パブリック後半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス B（パブリック後半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（パブリック前半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（パブリック前半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（プライベート）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（プライベート）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（パブリック後半）開始 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - クラス C（パブリック後半）終了 2 進数 IP アドレス配列に応じたアドレスブロックが返却されること。
    - 2 進数 IP アドレス配列に一致するアドレスブロックが無い場合、アドレスブロック未定義が返却されること。
  - createBinSubnetMaskArray
    - オクテットを区切る CIDR に応じた 2 進数サブネットマスク配列を作成できること。
    - オクテットをまたぐ CIDR に応じた 2 進数サブネットマスク配列を作成できること。
  - createBinArraysOfNetworkAndBroadcast
    - オクテットを区切る CIDR に応じた、2 進数ネットワークアドレス配列および 2 進数ブロードキャストアドレス配列を作成できること。
    - オクテットをまたぐ CIDR に応じた、2 進数ネットワークアドレス配列および 2 進数ブロードキャストアドレス配列を作成できること。
- Validator
  - validate
    - `<input>`要素の値が正常の場合、エラーメッセージが設定されないこと。
    - IPv4 アドレスが空文字の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスが IPv6 形式の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第一オクテットが 256 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第二オクテットが 256 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第三オクテットが 256 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第四オクテットが 256 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第一オクテットが 0 始まりの場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第二オクテットが 0 始まりの場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第三オクテットが 0 始まりの場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスの第四オクテットが 0 始まりの場合、対応するエラーメッセージが設定されること。
    - CIDR が未入力の場合、入力チェックが行われないこと。
    - CIDR が文字列の場合、対応するエラーメッセージが設定されること。
    - CIDR が 33 の場合、対応するエラーメッセージが設定されること。
    - CIDR が 0 始まりの場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスがクラス A かつ CIDR が 7 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスがクラス A かつ CIDR が 16 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスがクラス B かつ CIDR が 15 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスがクラス B かつ CIDR が 24 の場合、対応するエラーメッセージが設定されること。
    - IPv4 アドレスがクラス C かつ CIDR が 23 の場合、対応するエラーメッセージが設定されること。
  - hasErrors
    - `<input>`要素の値が正常値の場合、false が返却されること。
    - IPv4 アドレス`<input>`要素の値が異常値の場合、true が返却されること。
    - CIDR ブロック`<input>`要素の値が異常値の場合、true が返却されること。
    - 事前に validate メソッドが呼び出されていない場合、例外が送出されること。
- View
  - updateDefaultCidrBasedOn
    - IPv4 文字列が未定義の場合、state セッタ関数が呼び出されないこと。
    - IPv4 文字列が文字列の場合、対応する CIDR デフォルト値が設定されること。
  - updateErrorMessage
    - 引数「errorMessage」が省略された場合、エラーメッセージが非表示設定になること。
    - 引数「errorMessage」が空文字の場合、エラーメッセージに空文字が設定されること。
    - 引数「errorMessage」が「エラー」の場合、エラーメッセージに「エラー」が設定されること。
  - updateErrorMessages
    - 引数「errorMessages」のうち最初の文字列がエラーメッセージに設定されること。
    - 引数「errorMessages」のうち空文字を除く最初の文字列がエラーメッセージに設定されること。
    - 引数「errorMessages」が全て空文字の場合、エラーメッセージに空文字が設定されること。
